{% extends 'base.html.twig' %}

{% set title = "Collections Blender" %}
{% set meta_description = "Explore a curated collection of free Blender add-ons grouped by functionality or purpose." %}

{% block og_type %}website{% endblock %}
{% block body %}
<section class="px-6 lg:px-12 py-8">
  <div class="flex items-center justify-between mb-8">
    <h1 class="text-3xl lg:text-5xl font-bold text-white">Collection <span class="bg-grey-700 text-white text-xl font-semibold px-3 py-1 rounded-md">{{ collections is defined ? collections|length : 0 }}</span></h1>
    <div class="flex flex-row gap-4">
      <select class="bg-black-900 text-white px-4 py-2 rounded-md">
        <option>All</option>
        <option>3D View</option>
        <option>User Interface</option>
        <option>UV</option>
      </select>
      <select class="bg-black-900 text-white px-4 py-2 rounded-md">
        <option>Rating</option>
        <option>Views</option>
        <option>Name</option>
      </select>
      <a href="{{ path('create_collection') }}" class="bg-white text-black-950 px-4 py-2 rounded-md font-semibold hover:bg-grey-200 transition">+ Create Collection</a>
    </div>
  </div>

  {% if collections is defined and collections|length > 0 %}
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      {% for collection in collections %}
        <div class="bg-black-900 rounded-xl overflow-hidden hover:scale-[1.015] transition-transform duration-300">
          <img src="{{ collection.image }}" alt="{{ collection.title }}" class="w-full h-48 object-cover">
          <div class="p-4 flex flex-col gap-2">
            <h2 class="text-white text-lg font-bold leading-tight">{{ collection.title }}</h2>
            <p class="text-sm text-grey-400 leading-snug">{{ collection.description }}</p>
            <div class="flex flex-wrap gap-2 mt-2">
              {% for tag in collection.tags %}
                <span class="text-xs text-grey-400 border border-grey-500 rounded px-2 py-0.5">{{ tag }}</span>
              {% endfor %}
            </div>
            <div class="mt-3 flex justify-between text-sm text-grey-400">
              <span>{{ collection.author }}</span>
              <span class="flex items-center gap-1">
                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                ({{ collection.rating }})
              </span>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="text-center text-grey-500 text-lg mt-16">
      No collections available at the moment.
    </div>
  {% endif %}
</section>
{% endblock %}
